{"name": "test_batch_upload_files", "historyId": "6a0414d5264ee30d5b9f2fa2d8a31d6d", "uuid": "e2d59e2d-a0e5-452c-829e-d09972dd446b", "status": "broken", "testCaseId": "0e9d062b5c995fc0c4ee7a868ee09037", "labels": [{"name": "parentSuite", "value": "testcases"}, {"name": "subSuite", "value": "Test_Contract"}, {"name": "suite", "value": "Contract_related_test"}, {"name": "host", "value": "DESKTOP-BQ40Q36"}, {"name": "thread", "value": "94300-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.Contract_related_test"}], "fullName": "testcases.Contract_related_test.Test_Contract#test_batch_upload_files", "start": 1638523985846, "statusDetails": {"message": "TypeError: expected string or bytes-like object", "trace": "self = <testcases.Contract_related_test.Test_Contract object at 0x00000149BACC71D0>\n\n    def test_batch_upload_files(self):\n        url = \"http://172.16.11.40:8082/file/uploadBatch\"\n        token = yamlUtil().read_relation_yaml()\n        file_1 = open(r\"E:\\HydProductTest\\auttest\\jiekou\\File_upload\\10.png\", \"rb\")\n        file_2 = open(r\"E:\\HydProductTest\\auttest\\jiekou\\File_upload\\1.jpg\", \"rb\")\n        data = [{file_1, file_2}]\n>       rep = requests.request(\"POST\", url, headers=token, files=data)\n\nContract_related_test.py:81: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Python\\lib\\site-packages\\requests\\api.py:61: in request\n    return session.request(method=method, url=url, **kwargs)\nC:\\Python\\lib\\site-packages\\requests\\sessions.py:516: in request\n    prep = self.prepare_request(req)\nC:\\Python\\lib\\site-packages\\requests\\sessions.py:459: in prepare_request\n    hooks=merge_hooks(request.hooks, self.hooks),\nC:\\Python\\lib\\site-packages\\requests\\models.py:317: in prepare\n    self.prepare_body(data, files, json)\nC:\\Python\\lib\\site-packages\\requests\\models.py:505: in prepare_body\n    (body, content_type) = self._encode_files(files, data)\nC:\\Python\\lib\\site-packages\\requests\\models.py:166: in _encode_files\n    rf.make_multipart(content_type=ft)\nC:\\Python\\lib\\site-packages\\urllib3\\fields.py:268: in make_multipart\n    ((u\"name\", self._name), (u\"filename\", self._filename))\nC:\\Python\\lib\\site-packages\\urllib3\\fields.py:225: in _render_parts\n    parts.append(self._render_part(name, value))\nC:\\Python\\lib\\site-packages\\urllib3\\fields.py:205: in _render_part\n    return self.header_formatter(name, value)\nC:\\Python\\lib\\site-packages\\urllib3\\fields.py:116: in format_header_param_html5\n    value = _replace_multiple(value, _HTML5_REPLACEMENTS)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nvalue = <_io.BufferedReader name='E:\\\\HydProductTest\\\\auttest\\\\jiekou\\\\File_upload\\\\1.jpg'>\nneedles_and_replacements = {'\\x00': '%00', '\\x01': '%01', '\\x02': '%02', '\\x03': '%03', ...}\n\n    def _replace_multiple(value, needles_and_replacements):\n        def replacer(match):\n            return needles_and_replacements[match.group(0)]\n    \n        pattern = re.compile(\n            r\"|\".join([re.escape(needle) for needle in needles_and_replacements.keys()])\n        )\n    \n>       result = pattern.sub(replacer, value)\nE       TypeError: expected string or bytes-like object\n\nC:\\Python\\lib\\site-packages\\urllib3\\fields.py:89: TypeError"}, "stop": 1638523985847}